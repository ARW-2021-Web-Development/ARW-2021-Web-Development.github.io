<!DOCTYPE html>
<html lang="en">
    {% include head.html title=page.complete_name %}

    <body>
        {% include header.html %}
        <main class="container is-max-widescreen">
            <section class="section is-small">
                <figure class="image is-256x256 block" style="margin: 20px auto">
                    <img
                        class="is-rounded"
                        src="{{ site.baseurl }}{{ page.logo }}"
                        alt="{{ page.complete_name }} logo"
                    />
                </figure>
                <h1 class="title has-text-centered inner-text-shadow pink has-letter-spacing">{{ page.abbr }}</h1>
                <div class="columns is-centered">
                    <div class="column is-four-fifths-mobile is-one-third">
                        <a
                            rel="noreferrer"
                            target="_blank"
                            class="button is-medium btn-glass is-fullwidth"
                            href="{{ page.fb_link }}"
                            >Facebook Page</a
                        >
                    </div>
                    <div class="column is-four-fifths-mobile is-one-third">
                        <button
                            rel="noreferrer"
                            target="_blank"
                            class="button is-medium btn-glass is-fullwidth"
                            id="fav-btn"
                        >
                            Add to Favorites
                        </button>
                    </div>
                    <div class="column is-four-fifths-mobile is-one-third">
                        <a
                            rel="noreferrer"
                            target="_blank"
                            class="button is-medium btn-glass is-fullwidth"
                            href="https://www.instagram.com/dlsu_arw/"
                            >Registration Form</a
                        >
                    </div>
                </div>
            </section>
            <section class="section">
                <div class="columns is-desktop">
                    <div class="column">
                        <figure class="image is-16by9">
                            <iframe src="{{ page.vid_link }}" frameborder="0" class="has-ratio"></iframe>
                        </figure>
                    </div>
                    <div class="column">
                        <div class="container">
                            <p class="title is-5 has-text-weight-bold">{{ page.abbr }}</p>
                            <p>{{ page.about_us }}</p>
                        </div>
                    </div>
                </div>
            </section>
            <section class="section is-small">
                <div class="columns">
                    <div class="column">
                        <div class="is-flex is-flex-direction-column is-justify-content-space-around is-full-height">
                            <div class="block">
                                <h1 class="title inner-text-shadow light-pink has-letter-spacing">MISSION</h1>
                                <div class="content">{{ page.mission }}</div>
                            </div>
                            <div class="block">
                                <h1 class="title inner-text-shadow light-pink has-letter-spacing">VISION</h1>
                                <div class="content">{{ page.vision }}</div>
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <figure class="image">
                            <img src="{{ site.baseurl }}{{ page.main_pub }}" alt="Main Publication" />
                        </figure>
                    </div>
                </div>
            </section>
            <section class="section is-small">
                <p class="title is-2">Flagship Events</p>
                <div class="carousel-button-wrapper" style="position: relative">
                    <div class="carousel-container">
                        {% for event in page.events reversed %}
                        <figure class="image is-16by9 carousel-item">
                            <img src="{{ site.baseurl }}{{ event }}" alt="Flagship event poster" />
                        </figure>
                        {% endfor %}
                        <button class="button btn-prev npsm">&lt;</button>
                        <button class="button btn-next npsm">></button>
                    </div>
                </div>
            </section>
            <section class="section is-small">
                <div class="columns is-desktop">
                    <div class="column">
                        <figure class="image is-square">
                            <img src="{{ site.baseurl }}{{ page.membership_banner }}" alt="Membership Banner" />
                        </figure>
                    </div>
                    <div class="column">
                        <div
                            class="
                                is-flex
                                is-flex-direction-column
                                is-align-items-center
                                is-justify-content-center
                                is-full-height
                            "
                        >
                            <a
                                href="{{ page.reg_link }}"
                                class="button btn-glass is-large block is-fullwidth"
                                style="max-width: 300px"
                                >Register Here</a
                            >
                            <button class="button btn-glass is-large block is-fullwidth" style="max-width: 300px">
                                Add to Favorites
                            </button>
                            <div class="content">{{ page.tagline }}</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <script src="{{site.baseurl}}/assets/js/carousel.js" defer></script>
        <script>
            const favs = JSON.parse(localStorage.getItem('favorites')) ?? [];
            document.getElementById('fav-btn').onclick = () => {
                const idx = favs.indexOf('{{ page.abbr }}');
                if (idx === -1) {
                    favs.push('{{ page.abbr }}');
                } else {
                    favs.splice(idx, 1);
                }
            };

            window.onbeforeunload = () => {
                localStorage.setItem('favorites', JSON.stringify(favs));
            };
        </script>
        {% include footer.html %}
    </body>
</html>
